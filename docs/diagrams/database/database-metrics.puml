' database/database-metrics.puml
@startuml Database metrics tables

' Aggregate
entity AggregateFN {
  * aggregate_fn_id : number <<generated>>
  --
  * aggregate_fn_name : text
}

entity Aggregate {
  * aggregate_id : text
  * aggregate_category : enum('products','sales','transactions')
  --
  * aggregate_fn_id : number <<FK>>
  * aggregate_value : number
  aggregate_last_update : date
}

AggregateFN ||--|{ Aggregate

' TimeSerie
entity TimeSerie {
  * time_serie_id : text
  * time_serie_category : enum('products','sales','transactions')
  --
}

entity TimeSerieData {
  * time_serie_data_id : number <<generated>>
  --
  * time_serie_id : text <<FK>>
  * time_serie_category : text <<FK>>
  * time_serie_data_value : number
  * time_serie_data_date : date
}

TimeSerie ||--o{ TimeSerieData

' Ranking
entity Ranking {
  * ranking_id : text
  * ranking_category : enum('products','sales','transactions')
  --
  * ranking_value_title : text
}

entity RankingCompetitor {
  * ranking_competitor_id : number <<generated>>
  --
  * ranking_id : text <<FK>>
  * ranking_category : text <<FK>>
  * ranking_competitor_name : string
  * ranking_competitor_value : number
  * ranking_competitor_last_update : date
}

Ranking ||--o{ RankingCompetitor
@enduml